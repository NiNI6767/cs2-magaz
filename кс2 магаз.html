<!doctype html>
<html lang="uk">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>CS2 –Ü–Ω–≤–µ–Ω—Ç–∞—Ä</title>
        <style>
            /* ================================================= */
            /* === –ó–ú–Ü–ù–ù–Ü —Ç–∞ –ó–ê–ì–ê–õ–¨–ù–Ü –°–¢–ò–õ–Ü === */
            /* ================================================= */
            :root {
                --color-bg-dark: #1f2228;
                --color-bg-medium: #2a2e35;
                --color-text-light: #e0e6f0;
                --color-text-muted: #9fa6b2;
                --color-accent: #5e8f48;
                --color-danger: #eb4b4b;

                /* –†–Ü–î–ö–Ü–°–¢–¨ */
                --rarity-covert: #eb4b4b;
                --rarity-classified: #d32ee6;
                --rarity-restricted: #8847ff;
                --rarity-milspec: #4b69ff;
                --rarity-industrial: #5e8f48;
                --rarity-base: #b0c3d9;
                --rarity-extraordinary: #e5c50c;
            }

            body {
                font-family: "Arial", sans-serif;
                background-color: var(--color-bg-dark);
                color: var(--color-text-light);
                margin: 0;
                padding: 0;
                line-height: 1.6;
            }

            .inventory-container {
                max-width: 1500px;
                margin: 0 auto;
                padding: 20px;
            }

            /* ================================================= */
            /* === –û–°–ù–û–í–ù–ò–ô –ú–ê–ö–ï–¢ (3 –ö–û–õ–û–ù–ö–ò) === */
            /* ================================================= */
            .main-content {
                display: flex;
                gap: 20px;
            }

            .sidebar {
                width: 250px;
                flex-shrink: 0;
                background-color: var(--color-bg-medium);
                padding: 15px;
                border-radius: 4px;
                height: fit-content;
            }

            .item-grid {
                flex-grow: 1;
                display: grid;
                grid-template-columns: repeat(auto-fill, minmax(200px, 1fr));
                gap: 15px;
            }

            /* ================================================= */
            /* === –ü–†–ê–í–ò–ô –ë–õ–û–ö: –í–ò–ë–†–ê–ù–Ü –ü–†–ï–î–ú–ï–¢–ò + –û–î–ò–ù–ê–†–ù–ò–ô –í–ò–ë–Ü–† === */
            /* ================================================= */
            .player-inventory {
                width: 300px;
                flex-shrink: 0;
                padding: 0;
            }

            .inventory-section {
                background-color: var(--color-bg-medium);
                padding: 15px;
                border-radius: 4px;
                margin-bottom: 20px;
            }

            .inventory-section h3 {
                border-bottom: 1px solid #3d424b;
                padding-bottom: 8px;
                margin-top: 0;
                margin-bottom: 15px;
                color: var(--color-text-light);
                font-size: 1.1em;
                text-align: center;
            }

            /* –°—Ç–∏–ª—ñ –¥–ª—è –æ–¥–∏–Ω–∞—Ä–Ω–æ–≥–æ –∫–ª—ñ–∫–∞ (EQUIPPED ITEM) */
            .equipped-item-display {
                min-height: 200px;
                background-color: #3a3f47;
                border-radius: 4px;
                display: flex;
                justify-content: center;
                align-items: center;
                text-align: center;
                font-size: 1.2em;
                color: var(--color-text-muted);
                padding: 10px;
                flex-direction: column;
            }

            .equipped-card {
                background: none;
                padding: 0;
                border: none;
                cursor: default;
                transform: none;
                box-shadow: none;
                width: 90%;
                text-align: left;
                border-top: 3px solid transparent;
            }

            .equipped-card .item-image {
                height: 120px;
                font-size: 1.2em;
                margin-bottom: 5px;
            }

            .equipped-card .item-price {
                display: none;
            }

            .equipped-card .item-info {
                text-align: center;
            }

            /* –°—Ç–∏–ª—ñ –¥–ª—è –ø–æ–¥–≤—ñ–π–Ω–æ–≥–æ –∫–ª—ñ–∫–∞ (SELECTED ITEMS LIST) */
            .selected-items-list {
                display: flex;
                flex-direction: column;
                gap: 10px;
                max-height: 300px;
                overflow-y: auto;
            }

            .empty-message {
                color: var(--color-text-muted);
                text-align: center;
                font-size: 0.9em;
            }

            .selected-item-card {
                background-color: #3a3f47;
                padding: 5px;
                border-radius: 4px;
                display: flex;
                align-items: center;
                border-left: 3px solid transparent;
                position: relative;
            }

            .selected-item-card .item-image {
                width: 50px;
                height: 50px;
                flex-shrink: 0;
                margin-bottom: 0;
            }

            .selected-item-card .item-info {
                flex-grow: 1;
                padding-left: 10px;
            }

            .selected-item-card .skin-name {
                font-size: 0.9em;
            }

            .selected-item-card .item-wear,
            .selected-item-card .item-price {
                font-size: 0.75em;
                margin: 0;
            }

            .remove-btn {
                background: none;
                border: none;
                color: var(--color-danger);
                font-size: 1.2em;
                cursor: pointer;
                padding: 0 5px;
                transition: color 0.2s;
            }

            .remove-btn:hover {
                color: white;
            }

            /* –†—ñ–¥–∫—ñ—Å—Ç—å –¥–ª—è –º—ñ–Ω—ñ-–∫–∞—Ä—Ç–æ–∫ */
            .selected-item-card[data-rarity="covert"] {
                border-left-color: var(--rarity-covert);
            }
            .selected-item-card[data-rarity="classified"] {
                border-left-color: var(--rarity-classified);
            }
            .selected-item-card[data-rarity="restricted"] {
                border-left-color: var(--rarity-restricted);
            }
            .selected-item-card[data-rarity="milspec"] {
                border-left-color: var(--rarity-milspec);
            }
            .selected-item-card[data-rarity="industrial"] {
                border-left-color: var(--rarity-industrial);
            }
            .selected-item-card[data-rarity="extraordinary"] {
                border-left-color: var(--rarity-extraordinary);
            }

            /* –°—Ç–∏–ª—ñ –¥–ª—è —Ñ—ñ–ª—å—Ç—Ä—ñ–≤ —Ç–∞ –∫–∞—Ä—Ç–æ–∫ */
            .filter-group h3 {
                border-bottom: 1px solid #3d424b;
                padding-bottom: 8px;
                margin-top: 0;
                margin-bottom: 15px;
                color: var(--color-text-light);
                font-size: 1.1em;
            }

            .filter-list,
            .rarity-filter {
                list-style: none;
                padding: 0;
                margin-bottom: 20px;
            }

            .filter-list li,
            .rarity-filter li {
                padding: 8px 0;
                cursor: pointer;
                transition: color 0.2s;
                color: var(--color-text-muted);
            }

            .filter-list li.active,
            .rarity-filter li.active {
                color: var(--color-text-light);
                font-weight: bold;
            }

            .rarity-filter li {
                border-left: 4px solid transparent;
                padding-left: 10px;
            }

            .rarity-filter li[data-filter="covert"] {
                border-left-color: var(--rarity-covert);
            }
            .rarity-filter li[data-filter="classified"] {
                border-left-color: var(--rarity-classified);
            }
            .rarity-filter li[data-filter="restricted"] {
                border-left-color: var(--rarity-restricted);
            }
            .rarity-filter li[data-filter="milspec"] {
                border-left-color: var(--rarity-milspec);
            }
            .rarity-filter li[data-filter="industrial"] {
                border-left-color: var(--rarity-industrial);
            }
            .rarity-filter li[data-filter="base"] {
                border-left-color: var(--rarity-base);
            }
            .rarity-filter li[data-filter="extraordinary"] {
                border-left-color: var(--rarity-extraordinary);
            }

            .item-card {
                background-color: var(--color-bg-medium);
                padding: 10px;
                border-radius: 4px;
                text-align: center;
                position: relative;
                border-top: 3px solid transparent;
                transition:
                    transform 0.2s,
                    box-shadow 0.2s;
                overflow: hidden;
                cursor: pointer;
            }

            .item-card:hover {
                transform: translateY(-3px);
                box-shadow: 0 5px 15px rgba(0, 0, 0, 0.3);
            }

            .item-image {
                width: 100%;
                height: 120px;
                background: #3a3f47;
                display: flex;
                justify-content: center;
                align-items: center;
                font-size: 0.8em;
                color: var(--color-text-muted);
                margin-bottom: 10px;
                border-radius: 2px;
            }

            .item-info {
                text-align: left;
            }

            .skin-name {
                font-size: 1em;
                font-weight: bold;
                white-space: nowrap;
                overflow: hidden;
                text-overflow: ellipsis;
                margin-bottom: 5px;
            }

            .item-wear {
                font-size: 0.85em;
                color: var(--color-text-muted);
                margin-bottom: 5px;
            }

            .item-price {
                font-size: 1.1em;
                font-weight: bold;
                color: var(--color-accent);
            }

            .rarity-covert {
                border-top-color: var(--rarity-covert);
            }
            .rarity-classified {
                border-top-color: var(--rarity-classified);
            }
            .rarity-restricted {
                border-top-color: var(--rarity-restricted);
            }
            .rarity-milspec {
                border-top-color: var(--rarity-milspec);
            }
            .rarity-industrial {
                border-top-color: var(--rarity-industrial);
            }
            .rarity-base {
                border-top-color: var(--rarity-base);
            }
            .rarity-extraordinary {
                border-top-color: var(--rarity-extraordinary);
            }

            @media (max-width: 1200px) {
                .main-content {
                    flex-direction: column;
                }
                .sidebar,
                .player-inventory {
                    width: 100%;
                }
            }
        </style>
    </head>
    <body>
        <div class="inventory-container">
            <div class="main-content">
                <aside class="sidebar">
                    <div class="filter-group">
                        <h3>–ö–∞—Ç–µ–≥–æ—Ä—ñ—ó</h3>
                        <ul class="filter-list" data-filter-type="category">
                            <li class="active" data-filter="all">
                                –í—Å—ñ –ø—Ä–µ–¥–º–µ—Ç–∏
                            </li>
                            <li data-filter="weapon">üî´ –ó–±—Ä–æ—è (6)</li>
                            <li data-filter="knife">üî™ –ù–æ–∂—ñ (2)</li>
                            <li data-filter="gloves">üß§ –†—É–∫–∞–≤–∏—á–∫–∏ (1)</li>
                            <li data-filter="case">üì¶ –ö–µ–π—Å–∏ (3)</li>
                            <li data-filter="sticker">‚ú® –°—Ç—ñ–∫–µ—Ä–∏ (2)</li>
                        </ul>
                    </div>

                    <div class="filter-group">
                        <h3>–†—ñ–¥–∫—ñ—Å—Ç—å</h3>
                        <ul class="rarity-filter" data-filter-type="rarity">
                            <li data-filter="all" class="active">–£—Å—ñ</li>
                            <li data-filter="covert">–¢–∞—î–º–Ω–∞ (Covert)</li>
                            <li data-filter="classified">
                                –ó–∞—Å–µ–∫—Ä–µ—á–µ–Ω–∞ (Classified)
                            </li>
                            <li data-filter="restricted">
                                –û–±–º–µ–∂–µ–Ω–∞ (Restricted)
                            </li>
                            <li data-filter="milspec">–ê—Ä–º—ñ–π—Å—å–∫–∞ (Mil-Spec)</li>
                            <li data-filter="industrial">
                                –Ü–Ω–¥—É—Å—Ç—Ä—ñ–∞–ª—å–Ω–∞ (Industrial Grade)
                            </li>
                            <li data-filter="extraordinary">
                                –ù–∞–¥–∑–≤–∏—á–∞–π–Ω–∞ (Extraordinary)
                            </li>
                        </ul>
                    </div>
                </aside>

                <main class="item-grid">
                    <div
                        class="item-card rarity-covert"
                        data-category="weapon"
                        data-rarity="covert"
                        data-wear="fn"
                    >
                        <div class="item-image">AK-47 | Wild Lotus</div>
                        <div class="item-info">
                            <div class="skin-name">AK-47 | Wild Lotus</div>
                            <div class="item-wear">Factory New (FN)</div>
                            <div class="item-price">$13,700.00</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-classified"
                        data-category="weapon"
                        data-rarity="classified"
                        data-wear="mw"
                    >
                        <div class="item-image">AWP | Hyper Beast</div>
                        <div class="item-info">
                            <div class="skin-name">AWP | Hyper Beast</div>
                            <div class="item-wear">Minimal Wear (MW)</div>
                            <div class="item-price">$85.50</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-extraordinary"
                        data-category="knife"
                        data-rarity="extraordinary"
                        data-wear="ft"
                    >
                        <div class="item-image">Karambit | Doppler</div>
                        <div class="item-info">
                            <div class="skin-name">Karambit | Doppler</div>
                            <div class="item-wear">Field-Tested (FT)</div>
                            <div class="item-price">$1,100.00</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-restricted"
                        data-category="weapon"
                        data-rarity="restricted"
                        data-wear="ft"
                    >
                        <div class="item-image">Glock-18 | Water Elemental</div>
                        <div class="item-info">
                            <div class="skin-name">
                                Glock-18 | Water Elemental
                            </div>
                            <div class="item-wear">Field-Tested (FT)</div>
                            <div class="item-price">$12.99</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-extraordinary"
                        data-category="gloves"
                        data-rarity="extraordinary"
                        data-wear="mw"
                    >
                        <div class="item-image">Sport Gloves | Vice</div>
                        <div class="item-info">
                            <div class="skin-name">Sport Gloves | Vice</div>
                            <div class="item-wear">Minimal Wear (MW)</div>
                            <div class="item-price">$1,550.00</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-milspec"
                        data-category="weapon"
                        data-rarity="milspec"
                        data-wear="bs"
                    >
                        <div class="item-image">USP-S | Cyrex</div>
                        <div class="item-info">
                            <div class="skin-name">USP-S | Cyrex</div>
                            <div class="item-wear">Battle-Scarred (BS)</div>
                            <div class="item-price">$3.15</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-industrial"
                        data-category="case"
                        data-rarity="industrial"
                        data-wear="none"
                    >
                        <div class="item-image">Recoil Case</div>
                        <div class="item-info">
                            <div class="skin-name">Recoil Case</div>
                            <div class="item-wear">Case</div>
                            <div class="item-price">$0.60</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-restricted"
                        data-category="sticker"
                        data-rarity="restricted"
                        data-wear="none"
                    >
                        <div class="item-image">Sticker | Katowice 2014</div>
                        <div class="item-info">
                            <div class="skin-name">Sticker | Katowice 2014</div>
                            <div class="item-wear">Holo</div>
                            <div class="item-price">$1,900.00</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-industrial"
                        data-category="weapon"
                        data-rarity="industrial"
                        data-wear="ww"
                    >
                        <div class="item-image">MP9 | Hypnotic</div>
                        <div class="item-info">
                            <div class="skin-name">MP9 | Hypnotic</div>
                            <div class="item-wear">Well-Worn (WW)</div>
                            <div class="item-price">$0.55</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-base"
                        data-category="weapon"
                        data-rarity="base"
                        data-wear="fn"
                    >
                        <div class="item-image">SG 553 | Gator Mesh</div>
                        <div class="item-info">
                            <div class="skin-name">SG 553 | Gator Mesh</div>
                            <div class="item-wear">Factory New (FN)</div>
                            <div class="item-price">$0.05</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-extraordinary"
                        data-category="knife"
                        data-rarity="extraordinary"
                        data-wear="bs"
                    >
                        <div class="item-image">M9 Bayonet | Rust Coat</div>
                        <div class="item-info">
                            <div class="skin-name">M9 Bayonet | Rust Coat</div>
                            <div class="item-wear">Battle-Scarred (BS)</div>
                            <div class="item-price">$280.00</div>
                        </div>
                    </div>

                    <div
                        class="item-card rarity-industrial"
                        data-category="case"
                        data-rarity="industrial"
                        data-wear="none"
                    >
                        <div class="item-image">Operation Broken Fang Case</div>
                        <div class="item-info">
                            <div class="skin-name">
                                Operation Broken Fang Case
                            </div>
                            <div class="item-wear">Case</div>
                            <div class="item-price">$3.50</div>
                        </div>
                    </div>
                </main>
                <aside class="player-inventory">
                    <div class="inventory-section">
                        <h3>–ê–∫—Ç–∏–≤–Ω–∏–π –ø—Ä–µ–¥–º–µ—Ç (–û–¥–∏–Ω–∞—Ä–Ω–∏–π –∫–ª—ñ–∫)</h3>
                        <div id="equippedDisplay" class="equipped-item-display">
                            <p>–ù–∞—Ç–∏—Å–Ω—ñ—Ç—å **–æ–¥–∏–Ω —Ä–∞–∑** –Ω–∞ –ø—Ä–µ–¥–º–µ—Ç.</p>
                        </div>
                    </div>

                    <div class="inventory-section">
                        <h3>–í–∏–±—Ä–∞–Ω—ñ –ø—Ä–µ–¥–º–µ—Ç–∏ (–ü–æ–¥–≤—ñ–π–Ω–∏–π –∫–ª—ñ–∫)</h3>
                        <div id="selectedItemsList" class="selected-items-list">
                            <p id="emptyMessage" class="empty-message">
                                –î–≤—ñ—á—ñ –∫–ª–∞—Ü–Ω—ñ—Ç—å, —â–æ–± –¥–æ–¥–∞—Ç–∏ –¥–æ —Å–ø–∏—Å–∫—É.
                            </p>
                        </div>

                        <div
                            style="
                                margin-top: 20px;
                                padding-top: 10px;
                                border-top: 1px solid #3d424b;
                            "
                        >
                            <button
                                id="calculateTotal"
                                style="
                                    width: 100%;
                                    padding: 10px;
                                    background-color: var(--color-accent);
                                    color: white;
                                    border: none;
                                    border-radius: 4px;
                                    cursor: pointer;
                                    font-weight: bold;
                                "
                            >
                                –ö—É–ø–∏—Ç–∏
                            </button>
                            <p
                                id="totalValueDisplay"
                                style="
                                    text-align: center;
                                    margin-top: 10px;
                                    font-size: 1.1em;
                                    color: var(--color-accent);
                                "
                            >
                                –ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å: $0.00
                            </p>
                        </div>
                    </div>
                </aside>
            </div>
        </div>

        <script>
            const categoryList = document.querySelector(".filter-list");
            const rarityList = document.querySelector(".rarity-filter");
            const itemCards = document.querySelectorAll(".item-card");
            const equippedDisplay = document.getElementById("equippedDisplay");
            const selectedItemsList =
                document.getElementById("selectedItemsList");
            const emptyMessage = document.getElementById("emptyMessage");
            const calculateTotalBtn = document.getElementById("calculateTotal");
            const totalValueDisplay =
                document.getElementById("totalValueDisplay");

            let activeCategory = "all";
            let activeRarity = "all";

            // *** –ù–û–í–ê –§–£–ù–ö–¶–Ü–Ø: –û–ß–ò–©–ï–ù–ù–Ø –°–ü–ò–°–ö–£ –í–ò–ë–†–ê–ù–ò–• –ü–†–ï–î–ú–ï–¢–Ü–í ***
            function clearSelectedItems() {
                selectedItemsList.innerHTML = "";
                totalValueDisplay.textContent = "–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å: $0.00";
                // –ü–æ–≤–µ—Ä—Ç–∞—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è –ø—Ä–æ –ø–æ—Ä–æ–∂–Ω—ñ–π —Å–ø–∏—Å–æ–∫
                selectedItemsList.appendChild(emptyMessage);
                emptyMessage.style.display = "block";
            }

            // *** –§–£–ù–ö–¶–Ü–Ø –û–ù–û–í–õ–ï–ù–ù–Ø –ó–ê–ì–ê–õ–¨–ù–û–á –í–ê–†–¢–û–°–¢–Ü ***
            function updateTotalPrice(clearListAfterCalculation = false) {
                const selectedCards = selectedItemsList.querySelectorAll(
                    ".selected-item-card",
                );
                let total = 0;

                selectedCards.forEach((card) => {
                    const priceText =
                        card.querySelector(".item-price").textContent;
                    const price = parseFloat(
                        priceText.replace("$", "").replace(",", ""),
                    );
                    if (!isNaN(price)) {
                        total += price;
                    }
                });

                totalValueDisplay.textContent = `–ó–∞–≥–∞–ª—å–Ω–∞ –≤–∞—Ä—Ç—ñ—Å—Ç—å: $${total.toFixed(2).replace(/\B(?=(\d{3})+(?!\d))/g, ",")}`;

                // –Ø–∫—â–æ —Ñ—É–Ω–∫—Ü—ñ—è –≤–∏–∫–ª–∏–∫–∞–Ω–∞ –∑ –ø—Ä–∞–ø–æ—Ä—Ü–µ–º –æ—á–∏—â–µ–Ω–Ω—è —Ç–∞ —î –ø—Ä–µ–¥–º–µ—Ç–∏ –≤ —Å–ø–∏—Å–∫—É
                if (clearListAfterCalculation && selectedCards.length > 0) {
                    // –ù–µ–≤–µ–ª–∏–∫–∞ –∑–∞—Ç—Ä–∏–º–∫–∞, —â–æ–± –∫–æ—Ä–∏—Å—Ç—É–≤–∞—á –≤—Å—Ç–∏–≥ –ø–æ–±–∞—á–∏—Ç–∏ —Å—É–º—É
                    setTimeout(() => {
                        clearSelectedItems();
                    }, 100);
                } else {
                    emptyMessage.style.display =
                        selectedCards.length === 0 ? "block" : "none";
                }
            }

            // *** –§–£–ù–ö–¶–Ü–Ø –î–õ–Ø –î–û–î–ê–í–ê–ù–ù–Ø –ü–†–ï–î–ú–ï–¢–ê –î–û –°–ü–ò–°–ö–£ (–ú–ù–û–ñ–ò–ù–ù–ò–ô –í–ò–ë–Ü–†: dblclick) ***
            function addItemToSelectionList(card) {
                const itemHtml = `
            <div class="item-image">${card.querySelector(".item-image").textContent}</div>
            <div class="item-info">
                <div class="skin-name">${card.querySelector(".skin-name").textContent}</div>
                <div class="item-wear">${card.querySelector(".item-wear").textContent}</div>
                <div class="item-price" data-price="${card.querySelector(".item-price").textContent}">${card.querySelector(".item-price").textContent}</div>
            </div>
            <button class="remove-btn">‚úñ</button>
        `;

                const newItem = document.createElement("div");
                newItem.className = "selected-item-card";
                newItem.innerHTML = itemHtml;

                newItem.dataset.rarity = card.dataset.rarity;

                // –í–∏–¥–∞–ª—è—î–º–æ –ø–æ–≤—ñ–¥–æ–º–ª–µ–Ω–Ω—è, —è–∫—â–æ –≤–æ–Ω–æ —â–µ –Ω–µ –±—É–ª–æ –≤–∏–¥–∞–ª–µ–Ω–æ
                if (selectedItemsList.contains(emptyMessage)) {
                    emptyMessage.remove();
                }
                selectedItemsList.appendChild(newItem);
                updateTotalPrice();
            }

            // *** –§–£–ù–ö–¶–Ü–Ø –î–õ–Ø –í–Ü–î–û–ë–†–ê–ñ–ï–ù–ù–Ø –ü–†–ï–î–ú–ï–¢–ê (–û–î–ò–ù–ê–†–ù–ò–ô –í–ò–ë–Ü–†: click) ***
            function displayEquippedItem(card) {
                const clonedCard = card.cloneNode(true);

                equippedDisplay.innerHTML = "";
                equippedDisplay.appendChild(clonedCard);

                clonedCard.classList.add("equipped-card");

                clonedCard.classList.forEach((cls) => {
                    if (cls.startsWith("rarity-"))
                        clonedCard.classList.remove(cls);
                });
                clonedCard.style.borderTopColor =
                    getComputedStyle(card).borderTopColor;
            }

            // *** –û–ë–†–û–ë–ù–ò–ö–ò –ü–û–î–Ü–ô ***

            // 1. –ö–ù–û–ü–ö–ê –†–û–ó–†–ê–•–£–ù–ö–£: –†–æ–∑—Ä–∞—Ö–æ–≤—É—î —Ç–∞ –æ—á–∏—â–∞—î —Å–ø–∏—Å–æ–∫
            calculateTotalBtn.addEventListener("click", () => {
                updateTotalPrice(true); // –ü–µ—Ä–µ–¥–∞—î–º–æ true –¥–ª—è –æ—á–∏—â–µ–Ω–Ω—è
            });

            // 2. –ö–õ–Ü–ö–ò –ù–ê –ö–ê–†–¢–ö–ê–• (Equip/Select)
            itemCards.forEach((card) => {
                card.addEventListener("click", function () {
                    displayEquippedItem(this);
                });

                card.addEventListener("dblclick", function (e) {
                    e.stopPropagation();
                    addItemToSelectionList(this);
                });
            });

            // 3. –í–ò–î–ê–õ–ï–ù–ù–Ø –ü–†–ï–î–ú–ï–¢–ê –ó–Ü –°–ü–ò–°–ö–£
            selectedItemsList.addEventListener("click", function (e) {
                if (e.target.classList.contains("remove-btn")) {
                    e.target.closest(".selected-item-card").remove();
                    updateTotalPrice();
                }
            });

            // 4. –§–Ü–õ–¨–¢–†–ò (–±–µ–∑ –∑–º—ñ–Ω)
            function filterItems() {
                itemCards.forEach((card) => {
                    const cardCategory = card.dataset.category;
                    const cardRarity = card.dataset.rarity;

                    const categoryMatch =
                        activeCategory === "all" ||
                        cardCategory === activeCategory;
                    const rarityMatch =
                        activeRarity === "all" || cardRarity === activeRarity;

                    card.style.display =
                        categoryMatch && rarityMatch ? "block" : "none";
                });
            }

            categoryList.addEventListener("click", (e) => {
                if (e.target.tagName === "LI") {
                    categoryList
                        .querySelectorAll("li")
                        .forEach((li) => li.classList.remove("active"));
                    e.target.classList.add("active");
                    activeCategory = e.target.dataset.filter;
                    filterItems();
                }
            });

            rarityList.addEventListener("click", (e) => {
                if (e.target.tagName === "LI") {
                    rarityList
                        .querySelectorAll("li")
                        .forEach((li) => li.classList.remove("active"));
                    e.target.classList.add("active");
                    activeRarity = e.target.dataset.filter;
                    filterItems();
                }
            });

            // –Ü–Ω—ñ—Ü—ñ–∞–ª—ñ–∑–∞—Ü—ñ—è
            updateTotalPrice();
        </script>
    </body>
</html>
